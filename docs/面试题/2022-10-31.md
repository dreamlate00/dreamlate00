> 问题：A服务是发起方，调用B服务，B服务执行代码报错，抛出异常，A服务能立马感知到异常，B服务继续处理回滚操作，A服务的立马感知到异常是如何实现的呢？在代码里面没看到这块的处理



> 答：在ByteTCC中，当分布式事务出现异常时，它会通过以下流程处理异常：
> 1、发起方发起事务：首先，发起方发送事务请求，并将事务状态设置为"Try"。
> 2、提交方处理事务：然后，提交方接收到事务请求，执行事务逻辑并将事务状态设置为"Confirm"。
> 3、发起方检查事务状态：如果提交方的事务状态为"Confirm"，则发起方检查事务状态，并将事务状态设置为"Commit"。
> 4、提交方检查事务状态：如果发起方的事务状态为"Commit"，则提交方检查事务状态，并执行提交操作。
> 5、回滚：如果发生了异常，则发起方或提交方会将事务状态设置为"Cancel"，并执行回滚操作，以保证数据的一致性。
> 这是ByteTCC的主要流程，它通过在各个微服务之间进行交互来管理分布式事务，从而确保分布式事务的原子性。
> 具体的代码处理方式取决于您使用的ByteTCC实现。通常，ByteTCC的代码实现包括两个部分：客户端代码和服务端代码。
> 1、客户端代码负责管理事务请求，并与服务端代码进行交互。客户端代码通常包括如下内容：
> 2、创建事务请求：在发起事务请求之前，客户端代码需要创建一个事务请求，并将其发送给服务端。
> 3、检查事务状态：客户端代码需要检查事务的当前状态，以确定是否需要执行提交或回滚操作。
> 执行提交/回滚操作：如果事务状态需要提交，则客户端代码需要执行提交操作；如果需要回滚，则客户端代码需要执行回滚操作。
> 服务端代码负责处理事务请求，并与客户端代码进行交互